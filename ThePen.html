<!doctype html>
<html lang="en">

  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
	
    <script src="./glaemscribe/js/glaemscribe.js"></script>
    <script src="./glaemscribe/js/charsets/cirth_ds.cst.js"></script>
    <script src="./glaemscribe/js/modes/khuzdul-cirth-moria.glaem.js"></script>
    <script src="./glaemscribe/js/modes/english-cirth-espeak.glaem.js"></script>
	<script src="./glaemscribe/js/espeakng.for.glaemscribe.nowasm.sync.js"></script>

  </head>

<script>
// load glaemscribe
Glaemscribe.resource_manager.load_modes()

// Access loaded modes
var cirth = Glaemscribe.resource_manager.loaded_modes["english-cirth-espeak"]
</script>

<script>  
function update() {

    var str = document.getElementById("input").value;
	
	var glaemStr = cirth.transcribe(str);
	
	if (glaemStr[0]) {
		var strDS = replaceDanSmith(glaemStr[1]);
	} else {var strDS = glaemStr;}
	
	// old code and stuff, for legacy reasons
	
	str = str.replace(/th/gi, "á›");
	
	str = str.replace(/ch/gi, "áš³");
	
	<!--
	//str = str.replace(/sh/gi, "á›†Ì·");
	//str = str.replace(/sh/gi, "â¸âƒ’");
	//str = str.replace(/sh/gi, "É¹");
	str = str.replace(/sh/gi, "ğ¤£");
	str = str.replace(/th/gi, "êŸ»");
	-->
	
	str = str.replace(/sh/gi, "â„·");
	
	var res01 = str.replace(/ch/gi, "áš³");

    var res01 = str.replace(/a/gi, "áš¢");

    var res02 = res01.replace(/b/gi, "áš±");

    var res03 = res02.replace(/c|k/gi, "áš´");

    var res04 = res03.replace(/d/gi, "áš«");
 
    var res05 = res04.replace(/e/gi, "ášº");

    var res06 = res05.replace(/f/gi, "á›©");

    var res07 = res06.replace(/g/gi, "áš ");

    var res08 = res07.replace(/h/gi, "á›£");

    var res09 = res08.replace(/i/gi, "á›");

    var res10 = res09.replace(/j/gi, "á›•");

    var res11 = res10.replace(/l/gi, "á›…");

    var res12 = res11.replace(/m/gi, "á›’");

    var res13 = res12.replace(/n/gi, "á›˜");

    var res14 = res13.replace(/o/gi, "Î›");

    var res15 = res14.replace(/p/gi, "áš¹");

    var res16 = res15.replace(/q/gi, "áš´ß‰");

    var res17 = res16.replace(/r/gi, "á›");

    var res18 = res17.replace(/s/gi, "â¯");

    var res19 = res18.replace(/t/gi, "á›š");

    var res20 = res19.replace(/u/gi, "á›Ÿ");

    var res21 = res20.replace(/v/gi, "Ğ¯");

    var res22 = res21.replace(/w/gi, "ß‰"); // see ß‰, ğ©º, ğ–¥£, ğ–¢ˆ, ğ–¥©, ğ°›

    var res23 = res22.replace(/x/gi, "áš´â¯");

    var res24 = res23.replace(/y/gi, "á›‹");

    var res25 = res24.replace(/z/gi, "â¯");
	

    document.getElementById("output2").innerHTML = res25 + " ";
	
	document.getElementById("output").innerHTML = strDS + " ";

}

function replaceDanSmith(str) {

	str = str.replace(/~/g, "â€ğ¤¥â€");
	str = str.replace(/!/g, "â€ğ¤¥â€");
	str = str.replace(/@/g, "á›");
	str = str.replace(/#/g, "áš³"); // áš­ á–¶ ğ ¤
	str = str.replace(/\$/g, "áš­"); // Escaped character '$'
	str = str.replace(/%/g, "â€ğ¤£â€"); // maybe a space ^
	str = str.replace(/\^/g, " "); // Escaped character '^'
	str = str.replace(/&/g, "áš¤");
	str = str.replace(/\*/g, "áš¥"); // Escaped character '*'
	str = str.replace(/\(/g, "â«™"); // Escaped character '(' maybe also use "ğª‚"
	str = str.replace(/\)/g, "ğ–½€"); // see also ğ Ÿ, á—…â€, Escaped character ')'
	str = str.replace(/_/g, "â©™");
	str = str.replace(/\+/g, "á”"); // Escaped character '+'

	str = str.replace(/Q/g, "á¸");
	str = str.replace(/W/g, "á› ");
	str = str.replace(/E/g, "á›ˆ"); // maybe â¥
	str = str.replace(/R/g, "á›•");
	str = str.replace(/T/g, "ê“˜");

	str = str.replace(/Y/g, " ");
	str = str.replace(/U/g, "âµ¥"); // ç±³
	str = str.replace(/I/g, "á›«");
	str = str.replace(/O/g, "á›¬");
	str = str.replace(/P/g, "â‹®");
	str = str.replace(/\{/g, "ï¿½"); // Escaped character '{'
	str = str.replace(/\}/g, "ï¿½"); // Escaped character '}'
	str = str.replace(/\|/g, "ï¿½"); // Escaped character '|'

	str = str.replace(/A/g, "ê’›");
	str = str.replace(/S/g, "á›Ÿ");
	str = str.replace(/D/g, "á›");
	str = str.replace(/F/g, "ğ©º"); // see ß‰, ğ©º, ğ–¥£, ğ–¢ˆ, ğ–¥©, ğ°›
	str = str.replace(/G/g, "ğ–¢ˆ");
	str = str.replace(/H/g, " ");
	str = str.replace(/J/g, "á›—");
	str = str.replace(/K/g, "á›");
	str = str.replace(/L/g, "ï¿½");
	str = str.replace(/:/g, "â«³");
	str = str.replace(/"/g, "á›Œ");

	str = str.replace(/Z/g, "á›†");
	str = str.replace(/X/g, "Ã¾");
	str = str.replace(/C/g, "ğ•€");
	str = str.replace(/V/g, "á›§");
	str = str.replace(/B/g, "á‚‘"); //!! this one is bad on at least android
	str = str.replace(/N/g, " ");
	str = str.replace(/M/g, "á›–");
	str = str.replace(/</g, "ğª‚");
	str = str.replace(/>/g, "â€"); // see also `, or â“, ÖŠ
	str = str.replace(/\?/g, "â€"); // Escaped character '?' â¹
	str = str.replace(/\|/g, "ï¿½"); // Escaped character '|' (repeated for the end of the line)

	str = str.replace(/`/g, " ");
	str = str.replace(/1/g, "áš¹");
	str = str.replace(/2/g, "áš±");
	str = str.replace(/3/g, "á›©");
	str = str.replace(/4/g, "ğ™•");
	str = str.replace(/5/g, "ğ©º"); // might not work, use ï¿½ or ğ™²
	str = str.replace(/6/g, "á›’");
	str = str.replace(/7/g, "â€ğ²˜â€");
	str = str.replace(/8/g, "á›š");
	str = str.replace(/9/g, "áš¨");
	str = str.replace(/0/g, "á›");
	str = str.replace(/=/g, " "); // these two
	str = str.replace(/-/g, "="); // are switched

	str = str.replace(/q/g, "áš®");
	str = str.replace(/w/g, "á›£");
	str = str.replace(/e/g, "áš´");
	str = str.replace(/r/g, "áš ");
	str = str.replace(/t/g, "â€ğ¤°â€");
	str = str.replace(/y/g, "ï¿½"); // ê›™? 
	str = str.replace(/u/g, "á›‰");
	str = str.replace(/i/g, "ï¿½");
	str = str.replace(/o/g, "áš©");
	str = str.replace(/p/g, "â€ğ¤«â€");
	str = str.replace(/\[/g, " "); // Escaped character '['
	str = str.replace(/\]/g, "ğŒ¢"); // Escaped character ']'
	str = str.replace(/\\/g, "."); // Escaped character '\' (requires double-escape)

	str = str.replace(/a/g, "á›…");
	str = str.replace(/s/g, "áš¾");
	str = str.replace(/d/g, "á›¡");
	str = str.replace(/f/g, "ğ‘¶"); // see â­ or ğ‘¶ or ğ•†
	str = str.replace(/g/g, "áš²");
	str = str.replace(/h/g, "áš·");
	str = str.replace(/j/g, "áš¸");
	str = str.replace(/k/g, "á›");
	str = str.replace(/l/g, "á›");
	str = str.replace(/;/g, "á›‹"); // this whole block seems a bit...
	str = str.replace(/'/g, "ï¿½"); // ... out of order

	str = str.replace(/z/g, "ášº");
	str = str.replace(/x/g, "áš»");
	str = str.replace(/c/g, "áš¢");
	str = str.replace(/v/g, "ğŒ€"); // or ğŒ€
	str = str.replace(/b/g, "Î›");
	str = str.replace(/n/g, "á›–"); //see á¨ or ã…† or â©• or ğ•„
	str = str.replace(/m/g, "â€ğª‚â€");
	str = str.replace(/,/g, "ğŒ–");
	str = str.replace(/\./g, "â…„"); // Escaped character '.' see also "á›¸"
	str = str.replace(/\//g, "áš¿"); // Escaped character '/'
	str = str.replace(/\\/g, "."); // Escaped character '\'

	str = str.replace(/ÃŠ/g, ""); // possibly ï¿½
	
	return str;
}

</script>

	
    <body onload='update()'>
		<!-- ---------- START OF THE NAVBAR BLOCK ---------- -->
	    <nav class="navbar navbar-expand-md navbar-light bg-blue fixed-top" id="menu-placeholder">
		Menu Loading...
		</nav>
		
		<script> // loads the menu element
		fetch('menu.html')
		    .then(response => response.text())
		    .then(menuHTML => {
		        document.getElementById('menu-placeholder').innerHTML = menuHTML;
		    })
		    .catch(error => console.error('Error loading menu:', error));
		</script>
		<!-- ---------- END OF THE NAVBAR BLOCK ---------- -->
<main role="main" class="container">

  <div class="starter-template">
  <h1><br><br>
  The Pen
  <br></h1><p> 
  An ancient mode, passed down through legends, made accessible by The Duckfather to his rightfully mindless followers.
  <br>
  <br>
  (This tool uses the phonetic-to-cirth functionality of the "Glaemscribe" tool to translate english phonetics into J.R.R. Tolkien's runic writing system. It then converts the glaemscribe font (semi-random symbols masked with a rune font by Daniel Smith) into unicode symbols, which are just text and can be copy-and-pasted) <BR> (Basically this writes English words using Lord of The Rings Dwarf symbols)
  </p>


  <textarea id="input" name="input" rows="4" cols="50" oninput='update()'>Enter English text here</textarea>
  <BR>
  <BR>
  <p id="output" style="white-space: pre-wrap;"> </p>
  <BR>
  <p> alternatively, here is my older, simpler transcription (no phonetics, 1-to-1 letters, easier to decode):
  <BR>
  <BR>
  <p id="output2" style="white-space: pre-wrap;"> </p>
  
	
  </div>

</main>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

  </body>
</html>
